{"version":3,"sources":["survey.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"survey.js","sourcesContent":["new Vue({\n    el: \"#create-survey\",\n    data: {\n        survey: {\n            title: '',\n            description: '',\n            instructions: '',\n            question_set_id: null,\n            faculty_id: null,\n            start_date: null,\n            expires: null,\n            per_page: 10\n        },\n        questionSets: [],\n        faculties: [],\n        errors: []\n    },\n    methods: {\n        fetchQuestionSet: function(){\n            this.$http.get('/questionSetList', function(questionSets){\n                this.questionSets = questionSets;\n            });\n        },\n        fetchFaculties: function(){\n            this.$http.get('/facultyList', function(faculties){\n                this.faculties = faculties;\n            });\n        },\n        createSurvey: function(e){\n            e.preventDefault();\n            var survey = this.survey;\n            this.$http.post('/surveys', survey).success(function(data, status, request){\n                window.location.replace(data.url);\n            })\n            .error(function(data, status, request){\n            this.errors = [];\n            var errors = $.parseJSON(request.response);\n                for(var key in errors){\n                    this.errors.push(errors[key][0]);\n                }\n            });\n        }\n    },\n    ready: function(){\n        this.fetchQuestionSet();\n        this.fetchFaculties();\n        var self = this;\n\n        var e = document.createEvent('HTMLEvents')\n        e.initEvent('change', true, true)\n\n        $(this.$el)\n            .find('select')\n            .select2({theme: \"bootstrap\"})\n            .on('change', function() {\n                this.dispatchEvent(e)\n            });\n    }\n});"],"sourceRoot":"/source/"}